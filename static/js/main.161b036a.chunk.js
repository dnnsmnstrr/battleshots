(this.webpackJsonpbattleshots=this.webpackJsonpbattleshots||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),l=n(5),r=n.n(l),u=(n(29),n(30),n(31),n(24)),a=n(2),s=n(1),o=Object(i.createContext)({}),b=function(){return Object(i.useContext)(o)},d=function(e){var t=e.children,n=Object(i.useState)(6),c=Object(a.a)(n,2),l=c[0],r=c[1],b=Object(i.useState)(),d=Object(a.a)(b,2),j=d[0],h=d[1],f=Object(i.useState)(!1),v=Object(a.a)(f,2),O=v[0],x=v[1],g=Object(i.useCallback)((function(){x(!0),h([]);var e=new Array(l*l).fill("water");h(e),x(!1)}),[l,h]);Object(i.useEffect)((function(){l>0&&g()}),[l,g]);var C=Object(i.useCallback)((function(){g()}),[g]);return Object(s.jsx)(o.Provider,{value:{size:l,updateSize:function(e){r(e>12?12:e<2?2:Number(e))},updating:O,cells:j,resetCells:C,getCellStatus:function(e){return j[e]},cycleCellStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(u.a)(j),i=n[e];switch(i){case"hit":n[e]=t?"water":"miss";break;case"miss":n[e]=t?"water":"hit";break;default:n[e]=t?"hit":"miss"}h(n)}},children:t})},j=n(14),h=n(23),f=n.n(h);var v={water:"blue",hit:"red",miss:"grey"},O=function(e){var t=e.status,n=e.onClick,i=e.isHighlighted,c=void 0!==i&&i;return Object(s.jsx)("div",{className:"Cell",style:{backgroundColor:v[t],border:c?"3px solid black":"3px solid white"},onClick:n,onContextMenu:n})},x=function e(t){return"".concat(t>=26?e(Math.floor(t/26)-1):"").concat("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[t%26])},g=function(e){var t=e.index,n=e.numeric,i=void 0!==n&&n,c=e.onClick,l=void 0===c?function(){}:c,r=t;return i||(r=x(t-1)),Object(s.jsx)("div",{className:"Label",onClick:function(){return l(t,i)},children:r||""})},C=function(e){var t=function(){var e="undefined"!==typeof window,t=Object(i.useCallback)((function(){return{width:e?window.innerWidth:null,height:e?window.innerHeight:null}}),[e]),n=Object(i.useState)(t()),c=Object(a.a)(n,2),l=c[0],r=c[1];return Object(i.useEffect)((function(){if(e){var n=function(){r(t())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}}),[e,t]),l}(),n=t.height,c=t.width,l=n<c?n-100:c-50,r=b(),u=r.cells,o=void 0===u?[]:u,d=r.size,h=r.cycleCellStatus,v=r.updating,x=Object(i.useState)({x:null,y:null}),C=Object(a.a)(x,2),p=C[0],m=C[1],w=function(e,t){m(Object(j.a)(Object(j.a)({},p),t?{y:p.y!==e?e:null}:{x:p.x!==e?e:null})),console.log("highlight",p)},y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t+1,i=[],c=0;c<n;c++)for(var l=0;l<n;l++)0===c||0===l?i.push({cellType:"label",value:c||l,x:c,y:l,onClick:w}):function(){var n=(c-1)*t+l-1,r=p.x===c||p.y===l;i.push({cellType:"water",value:e[n],x:c,y:l,isHighlighted:r,onClick:function(e){return h(n,"contextmenu"===e.type)}})}();return i}(o,d);if(!v){var k=y.map((function(e,t){return{i:t,x:e.x,y:e.y,w:1,h:1,static:!0}}));return Object(s.jsx)(f.a,{className:"layout",cols:d+1,rowHeight:l/(d+1),maxRow:d+1,layout:k,width:l,margin:[0,5],children:y.map((function(e,t){var n=e.value,i=e.cellType,c=e.x,l=e.y,r=e.onClick,u=e.isHighlighted;return Object(s.jsx)("div",{className:"cellContainer","data-grid":{x:c,y:l,w:1,h:1,static:!0},children:"label"===i?Object(s.jsx)(g,{index:n,numeric:!c,onClick:r,isHighlighted:u}):Object(s.jsx)(O,{status:n,onClick:r,isHighlighted:u})},t)}))})}},p=function(e){var t=b(),n=t.size,c=t.updateSize,l=t.resetCells,r=Object(i.useState)(n),u=Object(a.a)(r,2),o=u[0],d=u[1];return Object(s.jsx)("form",{onSubmit:function(e){c(o),e.preventDefault()},children:Object(s.jsxs)("label",{children:["Size:",Object(s.jsx)("input",{type:"number",value:o,onChange:function(e){d(e.target.value)}}),Object(s.jsx)("input",{type:"submit",value:"Submit"}),Object(s.jsx)("button",{type:"button",onClick:l,children:"Reset"})]})})};var m=function(){return document.addEventListener("contextmenu",(function(e){e.preventDefault()})),Object(s.jsx)(d,{children:Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"Container",children:[Object(s.jsx)(C,{}),Object(s.jsx)(p,{})]})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,l=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),l(e),r(e)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(m,{})}),document.getElementById("root")),w()}},[[47,1,2]]]);
//# sourceMappingURL=main.161b036a.chunk.js.map